# =========================================================
# ZMK v4.1 Corne Configuration
# nice!nano v2 + nice!view + ZMK Studio
# =========================================================

# ---------------- CORE ----------------
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=n

# Improve BLE range (safe for nice!nano v2)
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Debounce (fast & stable)
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=1
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=10

# ---------------- DISPLAY (nice!view) ----------------
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=y
CONFIG_ZMK_EXT_POWER=y

# nice!view support
CONFIG_NICE_VIEW=y
CONFIG_NICE_VIEW_WIDGET_STATUS=y
CONFIG_NICE_VIEW_WIDGET_ANIMATION=y

# Uncomment if screen colors look inverted
# CONFIG_ZMK_DISPLAY_INVERT=y

# ---------------- POWER MANAGEMENT ----------------
CONFIG_ZMK_SLEEP=y

# Idle after 10 minutes
CONFIG_ZMK_IDLE_TIMEOUT=600000

# Sleep after 30 minutes idle
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=1800000

# ---------------- BLUETOOTH ----------------
# Fix Windows battery reporting
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=y

# ---------------- LOGGING (optional) ----------------
# WARNING: increases power usage
# CONFIG_ZMK_USB_LOGGING=y

# ---------------- RGB (optional) ----------------
# CONFIG_ZMK_RGB_UNDERGLOW=y
# CONFIG_WS2812_STRIP=y
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n
